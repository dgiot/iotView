(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ae963"],{"0b61":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("9ab4"),n=o("ab5b"),s=o("660d"),r=o("0f9a");function a(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var l=a(n),d=o("ab5b"),u=(d["default"]||d).createElement;function p(t){return t}function h(t,e,o){return e.editor.create(t,i.__assign({autoIndent:!0,formatOnType:!0,formatOnPaste:!0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1},scrollbar:{alwaysConsumeMouseWheel:!1},"bracketPairColorization.enabled":!0},o))}(d["default"]||d).Fragment,window.MonacoEnvironment||(window.MonacoEnvironment={getWorkerUrl:function(t,e){var o="/pkg/editor.worker.js";return"json"===e?o="/pkg/json.worker.js":"css"===e?o="/pkg/css.worker.js":"html"===e?o="/pkg/html.worker.js":"typescript"!==e&&"javascript"!==e||(o="/pkg/ts.worker.js"),o=p(o),/^https?/.test(o)?"data:text/javascript;charset=utf-8,".concat(encodeURIComponent("\n        importScripts('".concat(o,"');")),"\n      "):o}});var c=function(t){function e(e){var o=t.call(this,e)||this;return o.state={isFullscreen:!1,innerWidth:"auto",innerHeight:"auto"},o.disposes=[],o.wrapperRef=o.wrapperRef.bind(o),o.currentValue=e.value,o}return i.__extends(e,t),e.prototype.componentDidUpdate=function(t){var e,o;if(this.props.value!==this.currentValue&&this.editor&&!this.props.isDiffEditor){var i=String(this.props.value);if("json"===this.props.language)try{i=JSON.stringify(JSON.parse(i),null,2)}catch(r){}this.preventTriggerChangeEvent=!0;var n=this.editor.getModifiedEditor?this.editor.getModifiedEditor():this.editor,s=n.getModel();n.pushUndoStop(),s.pushEditOperations([],[{range:s.getFullModelRange(),text:i}]),n.pushUndoStop(),this.preventTriggerChangeEvent=!1}this.props.options.readOnly!==t.options.readOnly&&this.editor&&(null===(o=(e=this.editor).updateOptions)||void 0===o||o.call(e,this.props.options))},e.prototype.componentWillUnmount=function(){var t;if(this.editor){var e=this.props.context||window,o=e.monaco||window.monaco,i=this.props.editorWillUnmount;i&&i(this.editor,o)}this.disposes.forEach((function(t){var e=t.dispose;return e()})),this.disposes=[],null===(t=this.editor)||void 0===t||t.dispose()},e.prototype.wrapperRef=function(t){if(this.container=t,t)this.loadMonaco();else try{this.disposes.forEach((function(t){var e=t.dispose;return e()})),this.disposes=[],this.editor&&(this.editor.getModel().dispose(),this.editor.dispose()),this.editor=null}catch(e){}},e.prototype.loadMonaco=function(){var t=this;Promise.resolve().then((function(){return new Promise((function(t){o.e("chunk-7790fa1e").then((function(){var e=[o("8ea9")];(function(e){t(i.__importStar(e))}).apply(null,e)})).catch(o.oe)}))})).then((function(e){return t.initMonaco(e)}))},e.prototype.initMonaco=function(t){var e,o,n=null!==this.props.value?this.props.value:this.props.defaultValue,s=this.props,r=s.language,a=s.editorTheme,l=s.options,d=s.editorFactory,u=this.container;if(u){if(this.editorWillMount(t),"json"===this.props.language)try{n=JSON.stringify("string"===typeof n?JSON.parse(n):n,null,2)}catch(c){}var p=d||h;this.editor=p(u,t,i.__assign(i.__assign({},l),{automaticLayout:!0,value:n,language:r,editorTheme:a,theme:a})),null===(e=t.languages.json)||void 0===e||e.jsonDefaults.setDiagnosticsOptions(i.__assign({enableSchemaRequest:!0,validate:!0,allowComments:!0},null===(o=t.languages.json)||void 0===o?void 0:o.jsonDefaults.diagnosticsOptions)),this.editorDidMount(this.editor,t)}},e.prototype.editorWillMount=function(t){var e=this.props.editorWillMount;e&&e(t)},e.prototype.editorDidMount=function(t,e){var o,i,n,s=this,r=this.props,a=r.editorDidMount,l=r.onChange,d=r.onFocus,u=r.onBlur;a&&a(t,e),t.onDidChangeModelContent&&this.disposes.push(t.onDidChangeModelContent((function(e){var o=t.getValue();s.currentValue=o,!s.preventTriggerChangeEvent&&l&&l(o,e)}))),d&&t.onDidFocusEditorWidget&&this.disposes.push(t.onDidFocusEditorWidget(d)),u&&t.onDidBlurEditorWidget&&this.disposes.push(t.onDidBlurEditorWidget(u));var p=null!==(n=null===(i=null===(o=null===this||void 0===this?void 0:this.editor)||void 0===o?void 0:o._configuration)||void 0===i?void 0:i._elementSizeObserver)&&void 0!==n?n:{},h=p.width,c=void 0===h?"auto":h,g=p.height,f=void 0===g?"auto":g;this.setState({innerHeight:f,innerWidth:c})},e.prototype.handleFullscreenModeChange=function(){var t=this;this.setState({isFullscreen:!this.state.isFullscreen},(function(){return!t.state.isFullscreen&&t.editor.layout({width:t.state.innerWidth,height:t.state.innerHeight})}))},e.prototype.render=function(){var t=this.props,e=t.className,o=t.width,n=t.height,s=t.translate,a=t.placeholder,l=t.classnames,d=t.value,p=i.__assign({},this.props.style||{});return p.width=o,p.height=n,u("div",{className:l("MonacoEditor",{"is-fullscreen":this.state.isFullscreen},e),style:p,ref:this.wrapperRef},this.editor&&a&&!d?u("span",{className:l("MonacoEditor-placeholder")},a):null,this.editor&&this.props.allowFullscreen?u("div",{className:l("MonacoEditor-header")},u("a",{className:l("Modal-close","MonacoEditor-fullscreen"),"data-tooltip":this.state.isFullscreen?s("Editor.exitFullscreen"):s("Editor.fullscreen"),"data-position":"left",onClick:this.handleFullscreenModeChange},u(r.Icon,{icon:this.state.isFullscreen?"compress-alt":"expand-alt",className:"icon"}))):null)},e.defaultProps={language:"javascript",editorTheme:"vs",width:"100%",height:"100%",allowFullscreen:!1,options:{}},i.__decorate([s.autobind,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",void 0)],e.prototype,"handleFullscreenModeChange",null),e}(l["default"].Component),g=s.themeable(s.localeable(c));e.Editor=c,e["default"]=g,e.monacoFactory=h}}]);